.fl-asst {
    .fl-asst-window {
        --fl-asst-window-size: 360px;
        --fl-asst-admin-bar-height: 32px;
        --fl-asst-window-toolbar-height: 38px;

        box-sizing: border-box;
        width: var(--fl-asst-window-size);
        max-width: 100vw;
        min-height: 100px;
        overflow: hidden;
        pointer-events: auto;
        touch-action: none;
        transition-property: background;
        transition-duration: .25s;

        &.fl-asst-window-mini {
            max-width: 100%;
            max-height: 70vh;
            box-shadow: 0 0 0 3px var(--fl-asst-translucent-background), 0 3px 6px 0 hsla(214, 17%, 41%, 0.2);
            border-radius: var(--fl-asst-medium-space);

            .fl-asst-brightness-dark & {
                border-color: transparent;
                box-shadow: 0 0 0 3px hsla(0, 0%, 26%, .1), 0 1px 5px 0 hsla(0,0,0, .2);
            }
        }
        &.fl-asst-window-normal {
            --fl-asst-window-size: 460px;
            height: 100%;
            border: 3px solid hsla(0, 0%, 26%, .1);
        }

        &.fl-asst-secondary-content {
            background: var(--fl-asst-translucent-background);
        }

        .fl-asst-window-toolbar {
            box-sizing: border-box;
            flex: 0 0 var(--fl-asst-window-toolbar-height);
            line-height: 1;
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
            cursor: move;
            user-select:none;
            padding: 0 12px;
            padding-right: 5px;
            -webkit-user-select: none;
            user-select:none;

            button {
                color: inherit;
                padding:2px 10px;
                background:none;
                line-height: 1;
                display: inline-flex;
                flex-direction: row;
                align-items: center;
            }
            span.fl-asst-window-drag-handle {
                align-items: center;
            }
        }

        .fl-asst-window-content {
            box-sizing: border-box;
            flex: 1 1 auto;
            position: relative;
            display: flex;
            flex-direction: column;
            max-height:100%;
            min-height:0;
        }
    }

    .fl-asst-window-button {
        display: flex;
        align-items: center;
        width: 60px;
        height: 60px;
        border-radius: 30px;
        background: var(--fl-asst-surface-background);
        overflow: hidden;
        padding:0;
        pointer-events: auto;
        box-shadow: 0px 10px 20px rgba(0,0,0,.25);

        &:hover {
            background: var(--fl-asst-surface-background);
            box-shadow: 0px 10px 20px rgba(0,0,0,.25);
        }

        &:focus {
            top:0;
            outline: none;
            background: var(--fl-asst-surface-background);
            box-shadow: inset 0px 0px 0px 2px var(--fl-asst-accent-color),
                        0px 0px 0px 2px var(--fl-asst-surface-background),
                        0px 10px 20px rgba(0,0,0,.25);
        }
    }

    .fl-asst-window-layer {
        box-sizing: border-box;

        position: fixed;
        top:0;
        left:0;
        bottom:0;
        right:0;
        z-index: 9999999999999; // Yea, cause popup maker pushes the admin bar higher than normal.

        background-color: transparent;

        user-select: none;
        touch-action: none;
        pointer-events: none;

        &.fl-asst-window-layer-is-dragging {
            pointer-events: auto;
        }

        .fl-asst-window-positioner {
            pointer-events: auto;
        }
    }

    @media screen and ( max-width: 782px ) {
        .fl-asst-window {
            --fl-asst-admin-bar-height: 46px;
            --fl-asst-window-toolbar-height: 46px;
        }
    }
}
